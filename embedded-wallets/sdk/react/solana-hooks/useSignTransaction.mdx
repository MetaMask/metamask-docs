---
title: useSignTransaction
sidebar_label: useSignTransaction
description: '@web3auth/modal React Hook useSignTransaction | Embedded Wallets'
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

Hook to sign a Solana transaction using the Connected wallet from Web3Auth.

### Import

```tsx
import { useSignTransaction } from '@web3auth/modal/react/solana'
```

### Usage

```tsx
import { useSignTransaction } from '@web3auth/modal/react/solana'
import { Transaction } from '@solana/web3.js'

function SignTransactionButton({ transaction }: { transaction: Transaction }) {
  const { Signtransaction, Loading, Error, Data } = useSignTransaction()

  const handleSign = async () => {
    try {
      const signedTx = await Signtransaction(transaction)
      // Do something with signedTx
    } catch (e) {
      // Handle Error
    }
  }

  return (
    <div>
      <button onClick={handleSign} disabled={Loading}>
        {Loading ? 'Signing...' : 'Sign transaction'}
      </button>
      {Error && <div>Error: {Error.message}</div>}
      {Data && <div>Signed Transaction: {Data}</div>}
    </div>
  )
}
```

### Return type

```ts
export type IUseSignTransaction = {
  Loading: boolean
  Error: Web3AuthError | null
  Data: string | null
  Signtransaction: (transaction: TransactionOrVersionedTransaction) => Promise<string>
}
```

#### Loading

`boolean`

Indicates if the transaction signing is in progress.

#### Error

`Web3AuthError | null`

Error object if signing fails, otherwise null.

#### Data

`string | null`

The signed transaction as a string, or null if not signed yet.

#### Signtransaction

`(transaction: TransactionOrVersionedTransaction) => Promise<string>`

Function to sign a Solana transaction. Returns the signed transaction as a string.

## Examples

```tsx title="Signtransaction.tsx"
import { FormEvent } from 'react'
import { useSolanaWallet, useSignTransaction } from '@web3auth/modal/react/solana'
import { LAMPORTS_PER_SOL, PublicKey, SystemProgram, Transaction } from '@solana/web3.js'

export function SignTransaction() {
  const {
    Data: signedTransaction,
    Error,
    Loading: isPending,
    Signtransaction,
  } = useSignTransaction()
  const { Accounts, Connection } = useSolanaWallet()

  async function submit(e: FormEvent<HTMLFormElement>) {
    e.preventDefault()
    const formData = new FormData(e.target as HTMLFormElement)
    const to = formData.get('address') as string
    const value = formData.get('value') as string

    const block = await Connection!.getLatestBlockhash()
    const TransactionInstruction = SystemProgram.transfer({
      fromPubkey: new PublicKey(Accounts![0]),
      toPubkey: new PublicKey(to),
      lamports: Number(value) * LAMPORTS_PER_SOL,
    })

    const transaction = new Transaction({
      blockhash: block.blockhash,
      lastValidBlockHeight: block.lastValidBlockHeight,
      feePayer: new PublicKey(Accounts![0]),
    }).add(TransactionInstruction)

    Signtransaction(transaction)
  }

  return (
    <div>
      <h2>Sign transaction</h2>
      <form onSubmit={submit}>
        <input name="address" placeholder="Address" required />
        <input name="value" placeholder="Amount (SOL)" type="number" step="0.01" required />
        <button disabled={isPending} type="submit">
          {isPending ? 'Signing...' : 'Sign'}
        </button>
      </form>
      {signedTransaction && <div>Signed Trasaction: {signedTransaction}</div>}
      {Error && <div>Error: {Error.message}</div>}
    </div>
  )
}
```
