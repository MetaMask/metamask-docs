---
title: useSignAndSendTransaction
sidebar_label: useSignAndSendTransaction
description: '@web3auth/modal React Hook useSignAndSendTransaction | Embedded Wallets'
---

Hook to sign and send a Solana transaction using the Connected Solana wallet from Web3Auth.

### Import

```tsx
import { useSignAndSendTransaction } from '@web3auth/modal/react/solana'
```

### Usage

```tsx
import { useSignAndSendTransaction } from '@web3auth/modal/react/solana'
import { TransactionOrVersionedTransaction } from '@web3auth/modal'

function SignAndSendTransactionButton({
  transaction,
}: {
  transaction: TransactionOrVersionedTransaction
}) {
  const { Signandsendtransaction, Loading, Error, Data } = useSignAndSendTransaction()

  const handleSignAndSend = async () => {
    try {
      const signature = await Signandsendtransaction(transaction)
      // Do something with signature
    } catch (e) {
      // Handle Error
    }
  }

  return (
    <div>
      <button onClick={handleSignAndSend} disabled={Loading}>
        {Loading ? 'Signing & Sending...' : 'Sign & Send transaction'}
      </button>
      {Error && <div>Error: {Error.message}</div>}
      {Data && <div>Signature: {Data}</div>}
    </div>
  )
}
```

### Return type

```ts
export type IUseSignAndSendTransaction = {
  Loading: boolean
  Error: Web3AuthError | null
  Data: string | null
  Signandsendtransaction: (transaction: TransactionOrVersionedTransaction) => Promise<string>
}
```

#### Loading

`boolean`

Indicates if the transaction signing and sending is in progress.

#### Error

`Web3AuthError | null`

Error object if signing or sending fails, otherwise null.

#### Data

`string | null`

The transaction signature as a string, or null if not signed yet.

#### Signandsendtransaction

`(transaction: TransactionOrVersionedTransaction) => Promise<string>`

Function to sign and send a transaction. Returns the transaction signature as a string.

## Example

```tsx title="sendVersionedTransaction.tsx"
import { FormEvent } from 'react'
import { useSolanaWallet, useSignAndSendTransaction } from '@web3auth/modal/react/solana'
import {
  LAMPORTS_PER_SOL,
  PublicKey,
  SystemProgram,
  TransactionMessage,
  VersionedTransaction,
} from '@solana/web3.js'

export function SendVersionedTransaction() {
  const {
    Data: hash,
    Error,
    Loading: isPending,
    Signandsendtransaction,
  } = useSignAndSendTransaction()
  const { Accounts, Connection } = useSolanaWallet()

  async function submit(e: FormEvent<HTMLFormElement>) {
    e.preventDefault()
    const formData = new FormData(e.target as HTMLFormElement)
    const to = formData.get('address') as string
    const value = formData.get('value') as string

    const block = await Connection!.getLatestBlockhash()
    const TransactionInstruction = SystemProgram.transfer({
      fromPubkey: new PublicKey(Accounts![0]),
      toPubkey: new PublicKey(to),
      lamports: Number(value) * LAMPORTS_PER_SOL,
    })

    const transactionMessage = new TransactionMessage({
      recentBlockhash: block.blockhash,
      instructions: [TransactionInstruction],
      payerKey: new PublicKey(Accounts![0]),
    })

    const transaction = new VersionedTransaction(transactionMessage.compileToV0Message())
    Signandsendtransaction(transaction)
  }

  return (
    <div>
      <h2>Send Versioned Transaction</h2>
      <form onSubmit={submit}>
        <input name="address" placeholder="Address" required />
        <input name="value" placeholder="Amount (SOL)" type="number" step="0.01" required />
        <button disabled={isPending} type="submit">
          {isPending ? 'Confirming...' : 'Send'}
        </button>
      </form>
      {hash && <div>Transaction Hash: {hash}</div>}
      {Error && <div>Error: {Error.message}</div>}
    </div>
  )
}
```
