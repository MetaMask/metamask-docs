---
title: Node.js SDK Usage
sidebar_label: Overview
description: 'Learn how to use the MetaMask Embedded Wallets Node.js SDK'
---

## Usage Overview

The MetaMask Embedded Wallets Node.js SDK provides stateless authentication and blockchain operations for backend applications. Unlike frontend SDKs, this is designed for **per-request authentication** without persistent sessions.

## Core Methods

### Authentication & Connection

- **[connect](./connect)** - Authenticate users and establish provider connection (stateless)

### Blockchain Operations

- **[Private Key Access](./private-key)** - Extract private keys for blockchain operations
- **[EVM Integration](./evm-integration)** - Work with Ethereum and EVM-compatible chains

## Important Notes

### Stateless Design

The Node.js SDK is **stateless** and **sessionless** by design:

- No persistent user sessions
- No `getUserInfo()` or `logout()` methods
- Each request requires re-authentication
- Perfect for backend APIs and microservices

## Common Usage Pattern

The typical flow when using the Node.js SDK:

```javascript
const { Web3Auth } = require('@web3auth/node-sdk')
const { EthereumPrivateKeyProvider } = require('@web3auth/ethereum-provider')

// 1. Configure provider (once, during app startup)
const privateKeyProvider = new EthereumPrivateKeyProvider({
  config: {
    chainConfig: {
      chainNamespace: 'eip155',
      chainId: '0x1',
      rpcTarget: 'https://rpc.ankr.com/eth',
    },
  },
})

// 2. Initialize Web3Auth (once, during app startup)
const web3auth = new Web3Auth({
  clientId: 'YOUR_CLIENT_ID',
  web3AuthNetwork: 'sapphire_mainnet',
  privateKeyProvider,
})

await web3auth.init()

// 3. Connect user (per request)
const provider = await web3auth.connect({
  verifier: 'YOUR_VERIFIER',
  verifierId: 'user@example.com',
  idToken: 'JWT_TOKEN',
})

// 4. Use provider for blockchain operations
const privateKey = await provider.request({ method: 'eth_private_key' })

// 5. Perform blockchain operations with preferred library
```

## Error Handling

Always implement proper error handling when using the SDK:

```javascript
try {
  const provider = await web3auth.connect({
    verifier: 'YOUR_VERIFIER',
    verifierId: 'user@example.com',
    idToken: 'JWT_TOKEN',
  })

  // Success - proceed with blockchain operations
  const privateKey = await provider.request({ method: 'eth_private_key' })
} catch (error) {
  console.error('Authentication failed:', error.message)
  // Handle authentication errors
}
```

## Best Practices

1. **Initialize once**: Call `init()` during application startup, not per request
2. **Stateless requests**: Each user authentication is independent
3. **Handle errors**: Always wrap SDK calls in try-catch blocks
4. **Secure storage**: Protect private keys and never log them
5. **Rate limiting**: Implement rate limiting for authentication endpoints
6. **Token validation**: Validate JWT tokens before passing to connect method
7. **Provider reuse**: Create providers once, reuse for multiple users
