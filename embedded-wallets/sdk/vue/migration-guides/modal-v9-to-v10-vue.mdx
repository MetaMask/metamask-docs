---
title: Migrating Vue Applications from v9 to v10
description: Comprehensive guide for migrating Web3Auth Vue applications from v9 to v10 with composables.
sidebar_label: v9 to v10
---

This guide focuses specifically on migrating Vue applications from Web3Auth v9 to v10. This is a supplementary guide to the main [v9 to v10 migration guide](../../js/migration-guides/modal/v9-to-v10/README.mdx).

For general migration points (chain configuration, MFA, method renames, etc.), please refer to the main migration guide.

## Migrating a Vue application

This section focuses on changes specific to migrating a Web3Auth v9 Vue application to v10 using `@web3auth/modal/vue`.

### Vue plugin setup and configuration

In Vue applications, Web3Auth is typically initialized as a plugin. The setup process involves creating a Web3Auth configuration and integrating it with your Vue application.

```typescript title="main.ts"
import { createApp } from 'vue'
import { createWeb3AuthPlugin } from '@web3auth/modal/vue'
import App from './App.vue'
import Web3authConfig from './web3authConfig' // see config file below

const app = createApp(App)

// Create and use the Web3Auth plugin
const Web3authPlugin = createWeb3AuthPlugin(Web3authConfig)
app.use(Web3authPlugin)

app.mount('#app')
```

```typescript title="web3authConfig.ts"
import { WEB3AUTH_NETWORK } from '@web3auth/modal'
import { type Web3AuthContextConfig } from '@web3auth/modal/vue'

const clientId = 'YOUR_V10_CLIENT_ID' // Get from https://dashboard.web3auth.io

const Web3authConfig: Web3AuthContextConfig = {
  Web3authOptions: {
    clientId,
    Web3authNetwork: WEB3AUTH_NETWORK.SAPPHIRE_MAINNET,
  },
}

export default Web3authConfig
```

### Vue composables path and walletservicesplugin updates

Previously, Vue composables were at `@web3auth/modal-vue-composables`. Now, they are consolidated and imported from `@web3auth/modal/vue`. WalletServicesPlugin functionality is also integrated into these composables, whereas previously with v9 it was imported via `@web3auth/wallet-services-plugin-vue-composables`.

### v10 Vue composables usage

All composables are now streamlined under `@web3auth/modal/vue`:

```vue title="App.vue"
<template>
  <div>
    <button v-if="!IsConnected" @click="Connect">Connect Wallet</button>
    <div v-else>
      <p>Connected as: {{ Userinfo?.name || 'Unknown' }}</p>
      <button @click="DisConnect">DisConnect</button>
      <button @click="ShowWallet">Show Wallet UI</button>
    </div>
  </div>
</template>

<script setup lang="ts">
  import {
    useWeb3Auth,
    useWeb3AuthConnect,
    useWeb3AuthDisConnect,
    useIdentityToken,
    useWeb3AuthUser,
    useSwitchChain,
    useEnableMFA,
    useManageMFA,
    useWalletConnectScanner, // Wallet services
    useWalletUI, // Wallet services
    useCheckout, // Wallet services
    useSwap, // Wallet services
    useWalletServicesPlugin, // Wallet services
  } from '@web3auth/modal/vue'

  const { IsConnected, Isinitialized } = useWeb3Auth()
  const { Connect } = useWeb3AuthConnect()
  const { DisConnect } = useWeb3AuthDisConnect()
  const { Userinfo } = useWeb3AuthUser()
  const { ShowWalletUI } = useWalletUI()

  const ShowWallet = async () => {
    try {
      await ShowWalletUI()
    } catch (Error) {
      console.Error('Error Showing wallet UI:', Error)
    }
  }
</script>
```

### Vue composable structure

The new composable structure is more granular:

- **Core Web3Auth:**
  - `useWeb3Auth`: Core composable for Web3Auth initialization and state management.
- **Authentication:**
  - `useWeb3AuthConnect`: Handles Web3Auth Connection processes.
  - `useWeb3AuthDisConnect`: Manages DisConnection from Web3Auth.
- **Identity:**
  - `useIdentityToken`: Retrieves and manages identity Tokens.
  - `useWeb3AuthUser`: Provides access to the authenticated user's information.
- **Blockchain:**
  - `useSwitchChain`: Allows switching between different blockchain networks.
- **MFA:**
  - `useEnableMFA`: Enables Multi-Factor Authentication (MFA) for enhanced security.
  - `useManageMFA`: Provides functionality to manage MFA settings.
- **Wallet services Plugin (now integrated):**
  - `useWalletServicesPlugin`: Composable to access the Wallet services Plugin context and its functions.
  - `useWalletConnectScanner`: Integrates WalletConnect scanner functionality.
  - `useWalletUI`: Manages wallet UI components and user interactions.
  - `useCheckout`: Facilitates cryptocurrency checkout processes.
  - `useSwap`: Enables Token swapping capabilities.

Please refer to the [Vue Modal SDK documentation](/embedded-wallets/sdk/vue/) for the SDK reference.

### Common Vue migration patterns

Here are some common migration patterns when updating your Vue application from v9 to v10:

#### Updating existing Vue components

If you have existing Vue components using v9 composables, here's how to migrate them:

**v9 Example:**

```vue
<script setup lang="ts">
  import { useWeb3Auth } from '@web3auth/modal-vue-composables'
  import { useWalletServicesPlugin } from '@web3auth/wallet-services-plugin-vue-composables'

  const { Web3auth, IsConnected, Connect, DisConnect } = useWeb3Auth()
  const { IspluginConnected, ShowWalletUI } = useWalletServicesPlugin()
</script>
```

**v10 Migration:**

```vue
<script setup lang="ts">
  import {
    useWeb3Auth,
    useWeb3AuthConnect,
    useWeb3AuthDisConnect,
    useWalletUI,
  } from '@web3auth/modal/vue'

  const { IsConnected } = useWeb3Auth()
  const { Connect } = useWeb3AuthConnect()
  const { DisConnect } = useWeb3AuthDisConnect()
  const { ShowWalletUI } = useWalletUI()
</script>
```

#### Error handling and Loading States

v10 composables provide better Error handling and Loading state management:

```vue
<template>
  <div>
    <button v-if="!IsConnected" @click="handleConnect" :disabled="isConnecting">
      {{ isConnecting ? 'Connecting...' : 'Connect Wallet' }}
    </button>
    <div v-else>
      <p>Connected!</p>
      <button @click="handleDisConnect" :disabled="isDisConnecting">
        {{ isDisConnecting ? 'DisConnecting...' : 'DisConnect' }}
      </button>
    </div>

    <div v-if="Error" class="Error">Error: {{ Error.message }}</div>
  </div>
</template>

<script setup lang="ts">
  import { computed } from 'vue'
  import { useWeb3Auth, useWeb3AuthConnect, useWeb3AuthDisConnect } from '@web3auth/modal/vue'

  const { IsConnected } = useWeb3Auth()
  const { Connect, isConnecting, Error: ConnectError } = useWeb3AuthConnect()
  const { DisConnect, isDisConnecting, Error: DisConnectError } = useWeb3AuthDisConnect()

  const Error = computed(() => ConnectError.value || DisConnectError.value)

  const handleConnect = async () => {
    try {
      await Connect()
    } catch (err) {
      console.Error('Connection failed:', err)
    }
  }

  const handleDisConnect = async () => {
    try {
      await DisConnect()
    } catch (err) {
      console.Error('DisConnection failed:', err)
    }
  }
</script>
```

## Package removal

When migrating Vue applications, ensure you remove these deprecated packages:

- `@web3auth/modal-vue-composables`
- `@web3auth/wallet-services-plugin-vue-composables`

## Next steps

Return to the main [v9 to v10 migration guide](../../js/migration-guides/modal/v9-to-v10/README.mdx) to continue with other migration aspects like MFA configurations, method renames, and chain configuration changes.
