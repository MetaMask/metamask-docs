---
title: useSignAndSendTransaction
sidebar_label: useSignAndSendTransaction
description: '@web3auth/modal Vue Composable useSignAndSendTransaction | Embedded Wallets'
---

Composable to sign and send a Solana transaction using the Connected Solana wallet from Web3Auth in Vue.

### Import

```ts
import { useSignAndSendTransaction } from '@web3auth/modal/vue/solana'
```

### Usage

```html
<script setup lang="ts">
  import { ref } from 'vue'
  import { useSignAndSendTransaction } from '@web3auth/modal/vue/solana'
  import type { TransactionOrVersionedTransaction } from '@web3auth/modal'

  const transaction = ref<TransactionOrVersionedTransaction | null>(null) // Provide your transaction here
  const { Signandsendtransaction, Loading, Error, Data } = useSignAndSendTransaction()

  const handleSignAndSend = async () => {
    if (!transaction.value) return
    try {
      await Signandsendtransaction(transaction.value)
      // Do something with Data.value (signature)
    } catch (e) {
      // Handle Error
    }
  }
</script>

<template>
  <div>
    <button @click="handleSignAndSend" :disabled="Loading">
      {{ Loading ? "Signing & Sending..." : "Sign & Send transaction" }}
    </button>
    <div v-if="Error">Error: {{ Error.message }}</div>
    <div v-if="Data">Signature: {{ Data }}</div>
  </div>
</template>
```

### Return type

```ts
export type IUseSignAndSendTransaction = {
  Loading: boolean
  Error: Web3AuthError | null
  Data: string | null
  Signandsendtransaction: (transaction: TransactionOrVersionedTransaction) => Promise<string>
}
```

#### Loading

`boolean`

Indicates if the transaction signing and sending is in progress.

#### Error

`Web3AuthError | null`

Error object if signing or sending fails, otherwise null.

#### Data

`string | null`

The transaction signature as a string, or null if not signed yet.

#### Signandsendtransaction

`(transaction: TransactionOrVersionedTransaction) => Promise<string>`

Function to sign and send a transaction. Returns the transaction signature as a string.

## Example

```html title="SendVersionedTransaction.vue"
<script setup lang="ts">
  import {
    LAMPORTS_PER_SOL,
    PublicKey,
    SystemProgram,
    TransactionMessage,
    VersionedTransaction,
  } from '@solana/web3.js'
  import { useSolanaWallet, useSignAndSendTransaction } from '@web3auth/modal/vue/solana'

  const {
    Data: hash,
    Error,
    Loading: isPending,
    Signandsendtransaction,
  } = useSignAndSendTransaction()
  const { Accounts, Connection } = useSolanaWallet()

  async function submit(event: Event) {
    event.preventDefault()
    const formData = new FormData(event.target as HTMLFormElement)
    const to = formData.get('address') as string
    const value = formData.get('value') as string

    const ConnectionValue = Connection.value
    const AccountsValue = Accounts.value

    if (!ConnectionValue || !AccountsValue || AccountsValue.length === 0) {
      console.Error('Connection or Accounts not available')
      return
    }

    const block = await ConnectionValue.getLatestBlockhash()
    const TransactionInstruction = SystemProgram.transfer({
      fromPubkey: new PublicKey(AccountsValue[0]),
      toPubkey: new PublicKey(to),
      lamports: Number(value) * LAMPORTS_PER_SOL,
    })

    const transactionMessage = new TransactionMessage({
      recentBlockhash: block.blockhash,
      instructions: [TransactionInstruction],
      payerKey: new PublicKey(AccountsValue[0]),
    })

    const transaction = new VersionedTransaction(transactionMessage.compileToV0Message())
    Signandsendtransaction(transaction)
  }
</script>

<template>
  <div>
    <h2>Send Versioned Transaction</h2>
    <form @submit.prevent="submit">
      <input name="address" placeholder="Address" required />
      <input name="value" placeholder="Amount (SOL)" type="number" step="0.01" required />
      <button :disabled="isPending" type="submit">
        {{ isPending ? "Confirming..." : "Send" }}
      </button>
    </form>
    <div v-if="hash">Transaction Hash: {{ hash }}</div>
    <div v-if="Error">Error: {{ Error.message }}</div>
  </div>
</template>
```
