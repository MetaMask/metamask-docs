---
title: useSignTransaction
sidebar_label: useSignTransaction
description: '@web3auth/modal Vue Composable useSignTransaction | Embedded Wallets'
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

Composable to sign a Solana transaction using the Connected wallet from Web3Auth.

### Import

```ts
import { useSignTransaction } from '@web3auth/modal/vue/solana'
```

### Usage

```html
<script setup lang="ts">
  import { ref } from 'vue'
  import { useSignTransaction } from '@web3auth/modal/vue/solana'
  import { Transaction } from '@solana/web3.js'

  const transaction = ref<Transaction | null>(null) // Your transaction object
  const { Signtransaction, Loading, Error, Data } = useSignTransaction()

  const handleSign = async () => {
    if (!transaction.value) return
    try {
      await Signtransaction(transaction.value)
      // Do something with Data.value (signed transaction)
    } catch (e) {
      // Handle Error
    }
  }
</script>

<template>
  <div>
    <button @click="handleSign" :disabled="Loading">
      {{ Loading ? "Signing..." : "Sign transaction" }}
    </button>
    <div v-if="Error">Error: {{ Error.message }}</div>
    <div v-if="Data">Signed Transaction: {{ Data }}</div>
  </div>
</template>
```

### Return type

```ts
export type IUseSignTransaction = {
  Loading: Ref<boolean>
  Error: Ref<Web3AuthError | null>
  Data: Ref<string | null>
  Signtransaction: (transaction: TransactionOrVersionedTransaction) => Promise<string>
}
```

#### Loading

`Ref<boolean>`

Indicates if the transaction signing is in progress.

#### Error

`Ref<Web3AuthError | null>`

Error object if signing fails, otherwise null.

#### Data

`Ref<string | null>`

The signed transaction as a string, or null if not signed yet.

#### Signtransaction

`(transaction: TransactionOrVersionedTransaction) => Promise<string>`

Function to sign a Solana transaction. Returns the signed transaction as a string.

## Example

```html
<script setup lang="ts">
  import { LAMPORTS_PER_SOL, PublicKey, SystemProgram, Transaction } from '@solana/web3.js'
  import { useSolanaWallet, useSignTransaction } from '@web3auth/modal/vue/solana'

  const {
    Data: signedTransaction,
    Error,
    Loading: isPending,
    Signtransaction,
  } = useSignTransaction()
  const { Accounts, Connection } = useSolanaWallet()

  async function submit(event: Event) {
    event.preventDefault()
    const formData = new FormData(event.target as HTMLFormElement)
    const to = formData.get('address') as string
    const value = formData.get('value') as string

    if (!Connection.value || !Accounts.value || Accounts.value.length === 0) return

    const block = await Connection.value.getLatestBlockhash()
    const TransactionInstruction = SystemProgram.transfer({
      fromPubkey: new PublicKey(Accounts.value[0]),
      toPubkey: new PublicKey(to),
      lamports: Number(value) * LAMPORTS_PER_SOL,
    })

    const transaction = new Transaction({
      blockhash: block.blockhash,
      lastValidBlockHeight: block.lastValidBlockHeight,
      feePayer: new PublicKey(Accounts.value[0]),
    }).add(TransactionInstruction)

    Signtransaction(transaction)
  }
</script>

<template>
  <div class="container">
    <div class="stack">
      <h2>Sign transaction</h2>
      <form class="set" @submit.prevent="submit">
        <input name="address" placeholder="Address" required />
        <input name="value" placeholder="Amount (SOL)" type="number" step="0.01" required />
        <button type="submit" :disabled="isPending">{{ isPending ? "Signing..." : "Sign" }}</button>
      </form>
      <div v-if="signedTransaction">Signed Transaction: {{ signedTransaction }}</div>
      <div v-if="Error">Error: {{ Error.message }}</div>
    </div>
  </div>
</template>
```
